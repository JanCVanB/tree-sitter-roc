====
function_def
====
a = |x| x
a = |x| x + 1
a = |x| |y| x + y
a = |x, y| x + y
----

(file
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (anon_fun_expr
        (argument_patterns
          (identifier_pattern
            (identifier
              (regular_ident))))
        (expr_body
          (variable_expr
            (identifier
              (regular_ident)))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (anon_fun_expr
        (argument_patterns
          (identifier_pattern
            (identifier
              (regular_ident))))
        (expr_body
          (bin_op_expr
            (variable_expr
              (identifier
                (regular_ident)))
            (operator)
            (const
              (int)))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (anon_fun_expr
        (argument_patterns
          (identifier_pattern
            (identifier
              (regular_ident))))
        (expr_body
          (anon_fun_expr
            (argument_patterns
              (identifier_pattern
                (identifier
                  (regular_ident))))
            (expr_body
              (bin_op_expr
                (variable_expr
                  (identifier
                    (regular_ident)))
                (operator)
                (variable_expr
                  (identifier
                    (regular_ident))))))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (anon_fun_expr
        (argument_patterns
          (identifier_pattern
            (identifier
              (regular_ident)))
          (identifier_pattern
            (identifier
              (regular_ident))))
        (expr_body
          (bin_op_expr
            (variable_expr
              (identifier
                (regular_ident)))
            (operator)
            (variable_expr
              (identifier
                (regular_ident)))))))))

===
function_call_static_dispatch
===
a=a.b(1,2,3)
a=a.b()
a=a.b(1).c(2,2).d(potato,1)
----

(file
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (static_dispatch_expr
        (variable_expr
          (identifier
            (regular_ident)))
        (function_call_pnc_expr
          (identifier
            (regular_ident))
          (const
            (int))
          (const
            (int))
          (const
            (int))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (static_dispatch_expr
        (variable_expr
          (identifier
            (regular_ident)))
        (function_call_pnc_expr
          (identifier
            (regular_ident))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (static_dispatch_expr
        (static_dispatch_expr
          (static_dispatch_expr
            (variable_expr
              (identifier
                (regular_ident)))
            (function_call_pnc_expr
              (identifier
                (regular_ident))
              (const
                (int))))
          (function_call_pnc_expr
            (identifier
              (regular_ident))
            (const
              (int))
            (const
              (int))))
        (function_call_pnc_expr
          (identifier
            (regular_ident))
          (variable_expr
            (identifier
              (regular_ident)))
          (const
            (int)))))))

====
function_call_static_dispatch_complex
====
a=a.b(1).c(b.d(1))

a=
    a
    .b(1)
    .c(
        b.d(1
                ,3), 2,
        3)
    .e(1)

----

(file
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (static_dispatch_expr
        (static_dispatch_expr
          (variable_expr
            (identifier
              (regular_ident)))
          (function_call_pnc_expr
            (identifier
              (regular_ident))
            (const
              (int))))
        (function_call_pnc_expr
          (identifier
            (regular_ident))
          (static_dispatch_expr
            (variable_expr
              (identifier
                (regular_ident)))
            (function_call_pnc_expr
              (identifier
                (regular_ident))
              (const
                (int))))))))
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (static_dispatch_expr
        (static_dispatch_expr
          (static_dispatch_expr
            (variable_expr
              (identifier
                (regular_ident)))
            (function_call_pnc_expr
              (identifier
                (regular_ident))
              (const
                (int))))
          (function_call_pnc_expr
            (identifier
              (regular_ident))
            (static_dispatch_expr
              (variable_expr
                (identifier
                  (regular_ident)))
              (function_call_pnc_expr
                (identifier
                  (regular_ident))
                (const
                  (int))
                (const
                  (int))))
            (const
              (int))
            (const
              (int))))
        (function_call_pnc_expr
          (identifier
            (regular_ident))
          (const
            (int)))))))

===
function_call_pnc
===
a= b(1,2,3)
----

(file
  (value_declaration
    (decl_left
      (identifier_pattern
        (identifier
          (regular_ident))))
    (expr_body
      (function_call_pnc_expr
        (identifier
          (regular_ident))
        (const
          (int))
        (const
          (int))
        (const
          (int))))))
